<div appMixinStyledCard [hasShadow]="true" [hasDivide]="true">
    <main appMixinStyledCardSection class="grid gap-3" style="grid-template: auto / auto 1fr">
        <div class="aspect-square theme-avatar-any">
            <section class="relative h-full w-full flex">
                <app-cover-image src=""></app-cover-image>
            </section>
        </div>
        <div class="overflow-hidden">
            <div class="token-card--header--primary-text">
                {{ player.name }}
            </div>
            <div class="truncate token-card--header--secondary-text">
                <app-zeebra-text></app-zeebra-text>
            </div>
        </div>
    </main>
    <section appMixinStyledCardSection>
        <div class="token-default-list">
            <span class="token-default-list__label shrink-0">Id</span>
            <span class="truncate token-default-list__value">
                {{ player.id }}
            </span>
        </div>
        <div class="token-default-list">
            <span class="token-default-list__label shrink-0">Active Since</span>
            <span class="truncate token-default-list__value">
                {{ player.activeSince | date }}
            </span>
        </div>
    </section>
    <footer appMixinStyledCardSection class="flex flex-col gap-1">
        <button
            appMixinStyledButton
            class="justify-center"
            theme="theme-Sbutton-generic-blue"
            size="mixin-Sbutton-base"
        >
            Details
        </button>
        <button
            appMixinStyledButton
            class="justify-center"
            theme="theme-Sbutton-generic-white"
            size="mixin-Sbutton-base"
            popoverTrigger
            [targetTemplate]="menuTemplate"
        >
            Other Options
        </button>
    </footer>
</div>
<ng-template #menuTemplate let-close="close">
    <div
        appPanelDirective
        panelSize="mixin-panel-base"
        panelTheme="theme-panel-generic-white"
        [panelHasBorder]="true"
        [panelHasShadow]="true"
        class="fixed mt-1"
    >
        <header appPanelSectionDirective class="flex flex-row justify-between items-center">
            <div class="token-base-title">Other Options</div>
            <button appMixinStyledButton size="mixin-Sbutton-sm" theme="theme-Sbutton-generic-white" (click)="close()">Close</button>
        </header>
        <app-divider />
        <div appPanelSectionDirective class="flex flex-col gap-1">
            <button
                [routerLink]="'/players/' + player.id + '/update'"
                useRouterLink
                appMixinStyledButton
                class="justify-center"
                theme="theme-Sbutton-generic-green"
                size="mixin-Sbutton-base"
            >
                Update
            </button>
            <button
                appMixinStyledButton
                class="justify-center"
                theme="theme-Sbutton-generic-red"
                size="mixin-Sbutton-base"
                (click)="openDeletePlayerModal(close)"
            >
                Delete
            </button>
        </div>
    </div>
</ng-template>
